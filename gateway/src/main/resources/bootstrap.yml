# Define the port where the API gateway server would be running
server:
  port: 8765

spring:
  application:
    name: gateway
  cloud:
    config:
      uri: http://admin:admin@127.0.0.1:18761
  messages:
    basename: i18n/messages
  mvc:
    favicon:
      enabled: false

management:
  context-path: /management
  health:
    mail:
      enabled: false

security:
  basic:
    enabled: false
  oauth2:
    client:
      user-authorization-uri: /uaa/oauth/authorize
      access-token-uri: /uaa/oauth/token
      client-id: client
      client-secret: security
    resource:
      jwt:
        key-value: |
          -----BEGIN PUBLIC KEY-----
          MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAz1bpXSTC/tgb9aqQFYb7
          Vf2Uxxqz7Cbpq3hM1FDa/zCentyqzv7HUzOvaGkBay+E7JPMIlIFSjaAcJe0M1Bi
          3HNUiFjRp39lD0c9drbW8C6EjqLOnOJMVdqz0eoxaISGBhZcHcHYal1pXlQNJlky
          rZZRgElDHnA/uXs5UkhiQyVoYSE0+T0MIKaF4DIcL67igWUzK9NwPHxSqizCkaiJ
          WwXHxzVJGA9+k81vq1bl6FqysCobK/YrIqpg3vL7wT4SRn0pOVcABF0+PjvdPfUH
          naAPU2gNkECwBJmsAhr02/lXmlmgeuQ/N2tCFvHZQHCTbKe/JK+tIMO73Qn8AgLZ
          0QIDAQAB
          -----END PUBLIC KEY-----

project:
  mail:
    from: uaa@localhost
  security:
    authentication:
      jwt:
        secret: my-secret-token-to-change-in-production
        # Token is valid 24 hours
        tokenValidityInSeconds: 86400
# Note that we don't proxy the calls to the authorization server. The reason being that
# Spring cloud security would need to secure the api gateway before it can route the
# requests using zuul
zuul:
  routes:
    user-webservice: /user/**
    task-webservice: /task/**
    authserver:
      sensitiveHeaders:
      path: /uaa/**
      stripPrefix: true
    portal: /**
  add-proxy-headers: true